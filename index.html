<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Empatia em A√ß√£o</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{--primary:#1a73e8;--muted:#5f6368;}
    body{font-family:'Poppins',sans-serif;background:#f4f7f6;margin:0;padding:20px;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;}
    .game-container{width:100%;max-width:900px;background:#fff;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08);padding:28px;box-sizing:border-box;position:relative;}
    .screen{display:none;flex-direction:column;gap:20px;padding-bottom:50px;}
    .screen-content{padding:12px 0;}
    .game-title{color:var(--primary);text-align:center;margin:0 0 8px 0;}
    .game-subtitle{color:var(--muted);text-align:center;margin:0 0 18px 0;}
    .game-description,.reflection{background:#e8f0fe;border-left:5px solid var(--primary);padding:15px;border-radius:6px;margin-bottom:20px;}
    .error-counter-display{position:absolute;top:18px;right:18px;background:#fff3cd;border:2px solid #ffc107;border-radius:8px;padding:10px 14px;font-weight:700;color:#856404;display:none;}
    .btn{display:block;text-align:center;padding:12px 20px;border-radius:8px;cursor:pointer;font-weight:700;margin-top:18px;text-decoration:none;background:var(--primary);color:#fff;}
    .scene-title{text-align:center;color:#333;margin:0 0 8px 0;font-size:1.2rem;}
    .scene-description{background:#f1f3f4;padding:14px;border-radius:6px;border:1px solid #dadce0;}
    .dialogue{font-style:italic;color:#6a6e73;font-size:1.03em;margin-top:10px;padding-left:10px;border-left:3px solid #ccc;}
    .options-container{display:flex;flex-direction:column;gap:14px;margin-top:6px;}
    .option{display:block;padding:16px;border-radius:10px;background:#fff;box-shadow:0 1px 3px rgba(0,0,0,0.06);cursor:pointer;border:2px solid transparent;position:relative;}
    .option input[type="radio"]{display:none;}
    .option .option-content{display:block;}
    .feedback{display:none;margin-top:10px;font-weight:700;padding-top:8px;border-top:1px solid #eee;}
    .feedback-correct{color:hsl(142,76%,36%);}
    .feedback-wrong{color:hsl(0,84%,60%);}
    .next-btn{display:none;position:absolute;right:8px;bottom:8px;padding:8px 12px;border-radius:6px;background:#4caf50;color:#fff;font-weight:700;text-decoration:none;}
    .option-correct input[type="radio"]:checked ~ .option-content{border-color:hsl(142,76%,36%);background:#e6ffe6;}
    .option-correct input[type="radio"]:checked ~ .option-content .feedback-correct,
    .option-correct input[type="radio"]:checked ~ .option-content + .next-btn{display:block;}
    .option-wrong input[type="radio"]:checked ~ .option-content{border-color:hsl(0,84%,60%);background:#ffe6e6;}
    .option-wrong input[type="radio"]:checked ~ .option-content .feedback-wrong,
    .option-wrong input[type="radio"]:checked ~ .option-content + .next-btn{display:block;}
    .scenario-progress{text-align:center;margin-top:20px;color:var(--muted);font-size:0.95em;}
    #error-count{font-size:1.2em;font-weight:700;margin:20px 0;text-align:center;}
    /* hide all scene-screen by default (JS will show the ones needed) */
    .scene-screen{display:none;}
    /* mobile tweaks */
    @media (max-width:600px){
      body{padding:10px;align-items:stretch;}
      .game-container{padding:18px;border-radius:6px;box-shadow:none;}
      .option{padding:14px;font-size:0.98rem;}
      .btn{font-size:1rem;padding:12px;}
      .next-btn{position:static;display:inline-block;margin-top:8px;width:100%;text-align:center;}
      .error-counter-display{position:fixed;top:10px;right:10px;z-index:1000;font-size:0.95em;}
    }
  </style>
</head>
<body>
  <div class="game-container">
    <div id="error-counter" class="error-counter-display">Erros: <span id="error-counter-value">0</span></div>

    <!-- START SCREEN -->
    <div class="screen" id="screen-start" style="display:flex;">
      <div class="screen-content">
        <h1 class="game-title">Empatia em A√ß√£o</h1>
        <p class="game-subtitle">Um jogo sobre respeito e inclus√£o</p>
        <div class="game-description">
          <p><strong>A Hist√≥ria:</strong> Voc√™ √© o Coordenador(a) de Diversidade. Seu desafio √© enfrentar ativamente os preconceitos do dia a dia.</p>
          <p>Se voc√™ escolher a <strong>op√ß√£o correta</strong>, avan√ßa. Se errar, o erro ser√° registrado e voc√™ avan√ßa para a pr√≥xima situa√ß√£o.</p>
          <p style="text-align:center;font-weight:700;margin-top:12px;color:var(--primary);">Complete as 10 situa√ß√µes para vencer!</p>
        </div>
        <a href="#" class="btn" id="start-btn">Iniciar Miss√£o</a>
      </div>
    </div>

    <!-- SCENE 1 -->
    <div class="screen scene-screen" id="screen-scene1">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 1: Entrevista de Emprego (Discrimina√ß√£o Racial)</h2>
        <div class="scene-description">
          <p>Um candidato negro muito qualificado acabou de sair da sala. Seu colega comenta:</p>
          <p class="dialogue">"Ele parece bom, mas ser√° que vai se encaixar na nossa 'cultura'?"</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene1-choice" />
            <span class="option-content">
              <span class="option-text">"Ele tem todas as qualifica√ß√µes. Vamos avaliar apenas suas compet√™ncias profissionais."</span>
              <span class="feedback feedback-correct">‚úì Correto! Voc√™ agiu com justi√ßa.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene2')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene1-choice" />
            <span class="option-content">
              <span class="option-text">"√â verdade, talvez n√£o seja o perfil ideal para a equipe."</span>
              <span class="feedback feedback-wrong">‚úó Essa escolha refor√ßa preconceitos.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene1-choice" />
            <span class="option-content">
              <span class="option-text">"Vamos procurar algu√©m que se pare√ßa mais com o resto da equipe."</span>
              <span class="feedback feedback-wrong">‚úó Discrimina√ß√£o expl√≠cita.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">1 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 2 -->
    <div class="screen scene-screen" id="screen-scene2">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 2: Contrata√ß√£o (Etarismo)</h2>
        <div class="scene-description">
          <p>Uma profissional de 58 anos, experiente em tecnologia, se candidata. Um colega mais jovem diz:</p>
          <p class="dialogue">"Ela n√£o vai conseguir acompanhar. Pessoal dessa idade n√£o entende de tecnologia."</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene2-choice" />
            <span class="option-content">
              <span class="option-text">"A experi√™ncia dela √© valiosa. Idade n√£o determina capacidade t√©cnica."</span>
              <span class="feedback feedback-correct">‚úì Excelente! Voc√™ combateu o etarismo.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene3')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene2-choice" />
            <span class="option-content">
              <span class="option-text">"Talvez seja melhor contratar algu√©m mais jovem e 'antenado'."</span>
              <span class="feedback feedback-wrong">‚úó Etarismo injustificado.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene2-choice" />
            <span class="option-content">
              <span class="option-text">"Concordo. Vamos focar em candidatos da gera√ß√£o millennial."</span>
              <span class="feedback feedback-wrong">‚úó Discrimina√ß√£o por idade.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">2 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 3 (dificult) -->
    <div class="screen scene-screen" id="screen-scene3">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 3: Linguagem e Microagress√µes (dif√≠cil)</h2>
        <div class="scene-description">
          <p>Em uma reuni√£o de projeto, um gestor usa uma express√£o antiga e potencialmente ofensiva sobre uma equipe parceira. O ambiente est√° tenso e voc√™ percebe desconforto em alguns colegas. O que voc√™ faz?</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene3-choice" />
            <span class="option-content">
              <span class="option-text">Aborda o gestor em particular ap√≥s a reuni√£o, explicando o impacto da express√£o e sugerindo alternativas de comunica√ß√£o.</span>
              <span class="feedback feedback-correct">‚úì Excelente ‚Äî a√ß√£o privada e educativa.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene4')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene3-choice" />
            <span class="option-content">
              <span class="option-text">Exp√µe o gestor na frente de todos para deixar claro que aquilo n√£o √© aceit√°vel.</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî pode gerar resist√™ncia e n√£o promover aprendizado.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene3-choice" />
            <span class="option-content">
              <span class="option-text">Mant√©m sil√™ncio para evitar tens√£o e seguir a reuni√£o at√© o fim.</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî o sil√™ncio naturaliza comportamentos inadequados.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">3 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 4 (dificult) -->
    <div class="screen scene-screen" id="screen-scene4">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 4: Identidade e Processos (dif√≠cil)</h2>
        <div class="scene-description">
          <p>Uma colaboradora trans comenta que evita reuni√µes porque seu nome antigo ainda aparece em listas e e-mails. Como voc√™ age?</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene4-choice" />
            <span class="option-content">
              <span class="option-text">Garante corre√ß√£o imediata nas listas e sistemas e comunica a equipe sobre respeito ao nome e identidade.</span>
              <span class="feedback feedback-correct">‚úì Perfeito ‚Äî a√ß√£o pr√°tica e inclusiva.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene5')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene4-choice" />
            <span class="option-content">
              <span class="option-text">Pede que a pr√≥pria colaboradora informe os colegas para evitar exposi√ß√£o.</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî a responsabilidade n√£o deve recair sobre a pessoa afetada.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene4-choice" />
            <span class="option-content">
              <span class="option-text">Sugere esperar at√© o sistema atualizar automaticamente e n√£o expor o caso.</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî esperar refor√ßa exclus√£o.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">4 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 5 -->
    <div class="screen scene-screen" id="screen-scene5">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 5: Defici√™ncia F√≠sica</h2>
        <div class="scene-description">
          <p>Um candidato cadeirante foi aprovado. Um gerente questiona:</p>
          <p class="dialogue">"Como ele vai fazer o trabalho? Vai precisar de muitas adapta√ß√µes."</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene5-choice" />
            <span class="option-content">
              <span class="option-text">"Faremos as adapta√ß√µes necess√°rias. Ele foi contratado por suas compet√™ncias."</span>
              <span class="feedback feedback-correct">‚úì Perfeito! Voc√™ promoveu a acessibilidade.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene6')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene5-choice" />
            <span class="option-content">
              <span class="option-text">"Talvez seja melhor encontrar algu√©m sem essas necessidades."</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî discrimina√ß√£o por defici√™ncia.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene5-choice" />
            <span class="option-content">
              <span class="option-text">"√â muito caro adaptar o ambiente."</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî acessibilidade √© direito.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">5 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 6 (dificult) -->
    <div class="screen scene-screen" id="screen-scene6">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 6: Orienta√ß√£o Sexual (dif√≠cil)</h2>
        <div class="scene-description">
          <p>Durante um almo√ßo da equipe, um colega faz piadas sutis sobre casais homoafetivos. Ningu√©m reage. Qual √© a melhor postura?</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene6-choice" />
            <span class="option-content">
              <span class="option-text">Depois, aborda o colega com empatia, explicando por que piadas assim podem ferir e pedindo que evite.</span>
              <span class="feedback feedback-correct">‚úì Correto ‚Äî corrige com empatia e promove aprendizado.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene7')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene6-choice" />
            <span class="option-content">
              <span class="option-text">Ignora para n√£o criar constrangimento no grupo.</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî o sil√™ncio normaliza o preconceito.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene6-choice" />
            <span class="option-content">
              <span class="option-text">Faz uma piada de volta para "relativizar" o coment√°rio.</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî minimizar n√£o resolve o problema.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">6 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 7 -->
    <div class="screen scene-screen" id="screen-scene7">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 7: Religi√£o</h2>
        <div class="scene-description">
          <p>Uma funcion√°ria mu√ßulmana pede um espa√ßo para ora√ß√µes di√°rias. Um colega comenta:</p>
          <p class="dialogue">"Isso √© exagero. Ela pode rezar em casa."</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene7-choice" />
            <span class="option-content">
              <span class="option-text">"Respeitar pr√°ticas religiosas faz parte da inclus√£o. Vamos providenciar o espa√ßo."</span>
              <span class="feedback feedback-correct">‚úì Perfeito! Voc√™ respeitou a diversidade religiosa.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene8')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene7-choice" />
            <span class="option-content">
              <span class="option-text">"Concordo, isso atrapalha o trabalho."</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî intoler√¢ncia religiosa.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene7-choice" />
            <span class="option-content">
              <span class="option-text">"Vamos ver se outras pessoas reclamam primeiro."</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî omiss√£o n√£o √© aceit√°vel.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">7 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 8 -->
    <div class="screen scene-screen" id="screen-scene8">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 8: Maternidade</h2>
        <div class="scene-description">
          <p>Uma candidata qualificada menciona que tem dois filhos pequenos. Um gerente hesita:</p>
          <p class="dialogue">"Com filhos pequenos, ela n√£o vai ter disponibilidade total."</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene8-choice" />
            <span class="option-content">
              <span class="option-text">"Ter filhos n√£o afeta suas qualifica√ß√µes profissionais. Vamos avaliar apenas suas compet√™ncias."</span>
              <span class="feedback feedback-correct">‚úì Excelente! Voc√™ combateu o preconceito contra m√£es.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene9')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene8-choice" />
            <span class="option-content">
              <span class="option-text">"√â verdade, melhor contratar algu√©m sem essas responsabilidades."</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî discrimina√ß√£o contra m√£es.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene8-choice" />
            <span class="option-content">
              <span class="option-text">"Vamos perguntar se ela planeja ter mais filhos."</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî pergunta ilegal/discriminat√≥ria.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">8 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 9 (dificult) -->
    <div class="screen scene-screen" id="screen-scene9">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 9: Apar√™ncia e Lideran√ßa (dif√≠cil)</h2>
        <div class="scene-description">
          <p>Durante um processo seletivo interno, algu√©m comenta que um candidato "n√£o tem o perfil f√≠sico de lideran√ßa". Como voc√™ age?</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene9-choice" />
            <span class="option-content">
              <span class="option-text">Refor√ßa que desempenho e compet√™ncias s√£o os crit√©rios e aponta vieses inconscientes.</span>
              <span class="feedback feedback-correct">‚úì Exemplo de lideran√ßa inclusiva.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="advanceToScene('screen-scene10')">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene9-choice" />
            <span class="option-content">
              <span class="option-text">N√£o comenta nada, entendendo que foi s√≥ uma opini√£o pessoal.</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî omiss√£o perpetua vi√©s.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene9-choice" />
            <span class="option-content">
              <span class="option-text">Desvia o assunto para manter harmonia e evitar confronto.</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî evitar impede mudan√ßa.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">9 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- SCENE 10 -->
    <div class="screen scene-screen" id="screen-scene10">
      <div class="screen-content">
        <h2 class="scene-title">Situa√ß√£o 10: Sotaque e Origem</h2>
        <div class="scene-description">
          <p>Um candidato nordestino muito qualificado tem sotaque forte. Um colega comenta:</p>
          <p class="dialogue">"Ele fala 'engra√ßado'. Os clientes v√£o ter dificuldade de entender."</p>
        </div>
        <div class="options-container">
          <label class="option option-correct">
            <input type="radio" name="scene10-choice" />
            <span class="option-content">
              <span class="option-text">"Sotaque √© parte da diversidade cultural. Ele se comunica bem."</span>
              <span class="feedback feedback-correct">‚úì Excelente! Voc√™ completou todas as situa√ß√µes com sucesso!</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="showVictoryScreen()">Ver Resultado Final ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene10-choice" />
            <span class="option-content">
              <span class="option-text">"√â verdade, melhor contratar algu√©m com sotaque neutro."</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî preconceito regional.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>

          <label class="option option-wrong">
            <input type="radio" name="scene10-choice" />
            <span class="option-content">
              <span class="option-text">"Vamos pedir para ele fazer um curso de dic√ß√£o."</span>
              <span class="feedback feedback-wrong">‚úó Errado ‚Äî discrimina√ß√£o disfar√ßada.</span>
            </span>
            <a href="#" class="next-btn" style="display:none;" onclick="registerErrorAndAdvanceAuto()">Continuar ‚Üí</a>
          </label>
        </div>
        <p class="scenario-progress">10 de 10 Situa√ß√µes</p>
      </div>
    </div>

    <!-- VICTORY -->
    <div class="screen" id="screen-victory">
      <div class="screen-content">
        <h1 class="game-title">üéâ Parab√©ns! üéâ</h1>
        <div class="reflection">
          <p class="victory-message" style="font-size:1.05rem;font-weight:700;">Voc√™ completou todas as 10 situa√ß√µes!</p>
          <p id="error-count">Total de erros no percurso: 0</p>
          <p style="margin-top:12px;">Sua habilidade de <strong>agir</strong> e <strong>intervir</strong> transforma a cultura da empresa. Continue promovendo empatia!</p>
        </div>
        <a href="#" class="btn" id="restart-btn">Jogar Novamente</a>
      </div>
    </div>

  </div><!-- end container -->

<script>
// CORE GAME LOGIC - Clean and stable version (fixed order of scenes, options shuffled each play)
let errorCounter = 0;
let currentScreenId = 'screen-start';
let scenes = Array.from(document.querySelectorAll('.scene-screen')); // will map to screens 1..10

function initDisplay() {
  // Hide all scene screens and show only start
  document.querySelectorAll('.scene-screen').forEach(s => s.style.display = 'none');
  document.getElementById('screen-start').style.display = 'flex';
  document.getElementById('screen-victory').style.display = 'none';
  document.getElementById('error-counter').style.display = 'none';
}

function shuffleOptionsInScenes() {
  document.querySelectorAll('.scene-screen').forEach(scene => {
    const container = scene.querySelector('.options-container');
    if (!container) return;
    const options = Array.from(container.querySelectorAll('.option'));
    // Fisher-Yates
    for (let i = options.length -1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [options[i], options[j]] = [options[j], options[i]];
    }
    options.forEach(opt => container.appendChild(opt));
  });
}

function setupSceneLocking() {
  const allRadios = document.querySelectorAll('.scene-screen input[type="radio"]');
  allRadios.forEach(radio => radio.addEventListener('change', (e)=>{
    const currentScene = radio.closest('.scene-screen');
    if (currentScene) {
      // lock all radios in this scene to prevent changing after choice
      currentScene.querySelectorAll('input[type="radio"]').forEach(r=> r.disabled = true);
    }
  }));
}

function uncheckAllSceneOptions() {
  const allSceneChoices = document.querySelectorAll('input[name*="choice"]');
  allSceneChoices.forEach(radio => radio.checked = false);
}

function updateErrorCounter() {
  const el = document.getElementById('error-counter-value');
  if (el) el.textContent = errorCounter;
}

function advanceToScene(nextScreenId) {
  // hide current
  const current = document.getElementById(currentScreenId);
  if (current) current.style.display = 'none';

  // show next
  const next = document.getElementById(nextScreenId);
  if (next) {
    next.style.display = (next.classList.contains('screen')) ? 'flex' : 'flex';
    currentScreenId = nextScreenId;
  }

  // ensure radios enabled for next scene
  const radios = document.querySelectorAll(`#${currentScreenId} input[type="radio"]`);
  radios.forEach(r=> r.disabled = false);
  uncheckAllSceneOptions();
  updateErrorCounter();
}

// Start game: shuffle options, reset counters, show screen 1
function startGame() {
  errorCounter = 0;
  updateErrorCounter();
  document.getElementById('error-counter').style.display = 'block';
  shuffleOptionsInScenes();
  // scenes fixed order: ensure scenes array reflects DOM order of scene-screen ids 1..10
  scenes = Array.from(document.querySelectorAll('.scene-screen')).sort((a,b)=> {
    const ai = parseInt(a.id.replace('screen-scene',''),10);
    const bi = parseInt(b.id.replace('screen-scene',''),10);
    return ai - bi;
  });
  advanceToScene('screen-scene1');
}

// Called when wrong option chosen
function registerErrorAndAdvanceAuto() {
  errorCounter++;
  updateErrorCounter();

  // find current index in scenes array (ordered)
  const idx = scenes.findIndex(s => s.id === currentScreenId);
  if (idx >= 0 && idx < scenes.length - 1) {
    const nextId = scenes[idx + 1].id;
    advanceToScene(nextId);
  } else {
    showVictoryScreen();
  }
}

function showVictoryScreen() {
  advanceToScene('screen-victory');
  document.getElementById('error-counter').style.display = 'none';
  const errorDisplay = document.getElementById('error-count');
  if (!errorDisplay) return;
  if (errorCounter === 0) {
    errorDisplay.innerHTML = 'üéØ Voc√™ acertou todas! <strong>ZERO</strong> erros! üéâ';
    errorDisplay.style.color = 'hsl(142,76%,36%)';
  } else if (errorCounter === 1) {
    errorDisplay.innerHTML = `Voc√™ venceu com apenas <strong>${errorCounter}</strong> erro. Excelente!`;
    errorDisplay.style.color = 'hsl(40,84%,60%)';
  } else {
    errorDisplay.innerHTML = `Voc√™ venceu com <strong>${errorCounter}</strong> erros. Continue praticando!`;
    errorDisplay.style.color = 'hsl(0,84%,60%)';
  }
}

function resetGame() {
  errorCounter = 0;
  updateErrorCounter();
  initDisplay();
  currentScreenId = 'screen-start';
}

// Wire up buttons and initial setup
document.addEventListener('DOMContentLoaded', ()=>{
  initDisplay();
  setupSceneLocking();
  document.getElementById('start-btn').addEventListener('click', (e)=>{ e.preventDefault(); startGame(); });
  document.getElementById('restart-btn').addEventListener('click', (e)=>{ e.preventDefault(); resetGame(); });
  // make sure options are shuffled on first play as well
  shuffleOptionsInScenes();
});

// Show feedback and reveal "Continuar" button only after selection
document.querySelectorAll('.scene-screen input[type="radio"]').forEach(radio => {
  radio.addEventListener('change', (e) => {
    const scene = e.target.closest('.scene-screen');
    if (!scene) return;
    const selectedOption = e.target.closest('.option');
    const feedbacks = scene.querySelectorAll('.feedback');
    feedbacks.forEach(fb => fb.style.display = 'none');
    if (selectedOption) {
      const feedback = selectedOption.querySelector('.feedback');
      const nextBtn = selectedOption.querySelector('.next-btn');
      if (feedback) feedback.style.display = 'block';
      if (nextBtn) nextBtn.style.display = 'inline-block';
    }
  });
});
</script>
</body>
</html>
